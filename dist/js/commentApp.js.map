{"version":3,"sources":["commentApp.js"],"names":["console","log","LOCAL_URL_COMMENT","API_BASE_COMMENT","commentBtns","document","querySelectorAll","postBtn","forEach","comment","addEventListener","userInput","parentElement","querySelector","classList","toggle","send","sendComment","newComment","value","dataset","artist","axios","post","text","then","response","showComments","data","catch","error","btn","comments","commentsULs","commentsUL","innerHTML","showComment","i","p","createElement","add","appendChild"],"mappings":";;AAAAA,QAAQC,GAAR,CAAY,yBAAZ;AACA,IAAMC,oBAAoB,+BAA1B;AACA,IAAMC,mBAAmB,oCAAzB;AACA,IAAIC,cAAcC,SAASC,gBAAT,CAA0B,UAA1B,CAAlB;AACAN,QAAQC,GAAR,CAAYG,WAAZ;AACA,IAAIG,UAAUF,SAASC,gBAAT,CAA0B,OAA1B,CAAd;;AAEAF,YAAYI,OAAZ,CAAoB,UAASC,OAAT,EAAkB;AACrCA,SAAQC,gBAAR,CAAyB,OAAzB,EAAkC,YAAW;AAC5C,MAAIC,YAAY,KAAKC,aAAL,CAAmBC,aAAnB,CAAiC,aAAjC,CAAhB;AACAF,YAAUG,SAAV,CAAoBC,MAApB,CAA2B,QAA3B;AACA,MAAIC,OAAO,KAAKJ,aAAL,CAAmBC,aAAnB,CAAiC,OAAjC,CAAX;AACAG,OAAKF,SAAL,CAAeC,MAAf,CAAsB,QAAtB;AACA,EALD;AAMA,CAPD;;AAYA,IAAIE,cAAc,SAAdA,WAAc,GAAW;AAC5BjB,SAAQC,GAAR,CAAY,eAAZ;;AAEAD,SAAQC,GAAR,CAAY,qBAAZ,EAAmC,IAAnC;AACAD,SAAQC,GAAR,CAAY,KAAKW,aAAjB;AACA,KAAIM,aAAa,KAAKN,aAAL,CAAmBC,aAAnB,CAAiC,aAAjC,EAAgDM,KAAjE;AACAnB,SAAQC,GAAR,CAAYiB,UAAZ;AACAlB,SAAQC,GAAR,CAAY,2BAAZ,EAAyC,KAAKmB,OAAL,CAAaC,MAAtD;AACAC,OACEC,IADF,CACOrB,oBAAoB,GAApB,GAA0B,KAAKkB,OAAL,CAAaC,MAD9C,EACuD;AACrDG,QAAMN;AAD+C,EADvD,EAIEO,IAJF,CAIO,UAASC,QAAT,EAAmB;AACxB1B,UAAQC,GAAR,CAAY,kBAAZ,EAAgCyB,QAAhC;AACAC,eAAaD,SAASE,IAAtB;AACA,EAPF,EAQEC,KARF,CAQQ,UAASC,KAAT,EAAgB;AACtB9B,UAAQC,GAAR,CAAY,aAAZ,EAA2B6B,KAA3B;AACA,EAVF;AAaA,CArBD;;AAwBAvB,QAAQC,OAAR,CAAgB,UAASuB,GAAT,EAAc;AAC7BA,KAAIrB,gBAAJ,CAAqB,OAArB,EAA8BO,WAA9B;AACA,CAFD;;AAMA,IAAIU,eAAe,SAAfA,YAAe,CAASK,QAAT,EAAmB;AACrChC,SAAQC,GAAR,CAAY,kBAAZ,EAAgC+B,QAAhC;;AAEA,KAAIC,cAAc5B,SAASC,gBAAT,CAA0B,aAA1B,CAAlB;AACA2B,aAAYzB,OAAZ,CAAoB,UAAS0B,UAAT,EAAqB;AACxCA,aAAWC,SAAX,GAAuB,EAAvB;AACA,EAFD;;AAIAH,UAASxB,OAAT,CAAiB,UAAS4B,WAAT,EAAsBC,CAAtB,EAAyB;AAAE;;AAE3CD,cAAY5B,OAAZ,CAAoB,UAAS8B,CAAT,EAAY;AAAE;AACjC,OAAIpB,aAAab,SAASkC,aAAT,CAAuB,GAAvB,CAAjB;AACArB,cAAWJ,SAAX,CAAqB0B,GAArB,CAAyB,QAAzB;AACAtB,cAAWiB,SAAX,mBAAqCG,EAAEd,IAAvC;AACAxB,WAAQC,GAAR,CAAY,gBAAgBiB,UAA5B;AACAe,eAAYI,CAAZ,EAAeI,WAAf,CAA4BvB,UAA5B;AAEA,GAPD;AAWA,EAbD;AAcA,CAtBD","file":"commentApp.js","sourcesContent":["console.log(\"This is the Comment App\");\nconst LOCAL_URL_COMMENT = 'http://localhost:1337/comment';\nconst API_BASE_COMMENT = 'http://159.89.151.127:1000/comment'\nlet commentBtns = document.querySelectorAll('.comment');\nconsole.log(commentBtns);\nlet postBtn = document.querySelectorAll('.send');\n\ncommentBtns.forEach(function(comment) {\n\tcomment.addEventListener('click', function() {\n\t\tlet userInput = this.parentElement.querySelector('.user-input')\n\t\tuserInput.classList.toggle('closed');\n\t\tlet send = this.parentElement.querySelector('.send')\n\t\tsend.classList.toggle('closed');\n\t})\n})\n\n\n\n\nlet sendComment = function() {\n\tconsole.log('being clicked')\n\n\tconsole.log(\"clicked send button\", this)\n\tconsole.log(this.parentElement)\n\tlet newComment = this.parentElement.querySelector('.user-input').value;\n\tconsole.log(newComment)\n\tconsole.log(\"send comment for artist: \", this.dataset.artist)\n\taxios\n\t\t.post(LOCAL_URL_COMMENT + \"/\" + this.dataset.artist , {\n\t\t\ttext: newComment\n\t\t})\n\t\t.then(function(response) {\n\t\t\tconsole.log('server responsed', response)\n\t\t\tshowComments(response.data)\n\t\t})\n\t\t.catch(function(error) {\n\t\t\tconsole.log('Not Working', error)\n\t\t})\n\t\n\t\n}\n\t\n\npostBtn.forEach(function(btn) {\n\tbtn.addEventListener('click', sendComment);\n})\n\n\n\nlet showComments = function(comments) {\n\tconsole.log('showing comments', comments)\n\n\tlet commentsULs = document.querySelectorAll('ul.comments');\n\tcommentsULs.forEach(function(commentsUL) {\n\t\tcommentsUL.innerHTML = '';\n\t})\n\n\tcomments.forEach(function(showComment, i) { // through the 6 comment arrays\n\t\t\n\t\tshowComment.forEach(function(p) { // through the comments within them\n\t\t\tlet newComment = document.createElement('p');\n\t\t\tnewComment.classList.add('new-li');\n\t\t\tnewComment.innerHTML = `Commented: ${p.text}`\n\t\t\tconsole.log(\"New Comment\" + newComment);\n\t\t\tcommentsULs[i].appendChild( newComment );\n\n\t\t})\n\t\t\n\n\t\n\t})\n}\n\n\n\n\n\n\n"]}